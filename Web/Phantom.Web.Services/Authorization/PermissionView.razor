@using Microsoft.AspNetCore.Components.Authorization
@using Phantom.Common.Data.Web.Users
@inject PermissionManager PermissionManager

<AuthorizeView>
  <Authorized>
    @if (ChildContent != null && PermissionManager.CheckPermission(context.User, Permission)) {
      @ChildContent(context)
    }
  </Authorized>
</AuthorizeView>

@code {

  [Parameter, EditorRequired]
  public Permission Permission { get; set; } = null!;

  [Parameter]
  public RenderFragment<AuthenticationState>? ChildContent { get; set; }

}
